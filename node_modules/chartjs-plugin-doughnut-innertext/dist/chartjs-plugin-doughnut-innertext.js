(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('chart.js')) :
  typeof define === 'function' && define.amd ? define(['chart.js'], factory) :
  (global['chartjs-plugin-doughnut-innertext'] = factory(global.Chart));
}(this, (function (chart_js) { 'use strict';

  var plugin = {
    id: "doughnutInnerText",
    beforeDraw: function beforeDraw(chart) {
      if (!chart.options.centerText) {
        return;
      }

      var chartArea = chart.chartArea;
      var top = chartArea.top;
      var left = chartArea.left;
      var height = chartArea.height;
      var width = chartArea.width;
      var centerText = chart.options.centerText;
      var ctx = chart.ctx;
      var fontSize = (height / 114).toFixed(2);

      if (centerText.fontSizeAdjust) {
        fontSize = fontSize * (1 + centerText.fontSizeAdjust);
      }

      ctx.font = fontSize + "em sans-serif";
      ctx.textBaseline = "middle";
      var textX = Math.round((width - ctx.measureText(centerText.value).width) / 2 + left);
      var textY = Math.round(height / 2 + top);

      if (centerText.color) {
        ctx.fillStyle = centerText.color;
      }

      ctx.fillText(centerText.value, textX, textY);
    }
  }; // if the environment is neither amd nor commonjs, register the plugin globally for the samples and tests
  //   !(typeof define === "function" && define.amd) &&
  //   !(typeof module === "object" && module.exports)
  // ) {
  //   Chart.register(plugin);
  // }

  chart_js.Chart.register(plugin);

  return plugin;

})));
